<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- Exclude test classes from SpotBugs analysis -->
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="ODR_OPEN_DATABASE_RESOURCE"/>
    </Match>

    <!-- Exclude generated classes -->
    <Match>
        <Class name="~.*generated.*"/>
    </Match>

    <!-- Exclude database-related classes that may have expected resource management -->
    <Match>
        <Class name="~.*Repository.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude service classes that may have expected exception handling -->
    <Match>
        <Class name="~.*Service.*"/>
        <Bug pattern="DE_MIGHT_IGNORE"/>
    </Match>

    <!-- Exclude resource management issues in service classes -->
    <Match>
        <Class name="~.*Service.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude resource management issues in controller classes -->
    <Match>
        <Class name="~.*Controller.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude resource management issues in app classes -->
    <Match>
        <Class name="~.*App.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude constructor exception issues -->
    <Match>
        <Bug pattern="CT_CONSTRUCTOR_THROW"/>
    </Match>

    <!-- Exclude format string issues -->
    <Match>
        <Bug pattern="FS_FORMAT_STRING"/>
    </Match>

    <!-- Exclude dead store issues -->
    <Match>
        <Bug pattern="DLS_DEAD_STORE"/>
    </Match>

    <!-- Exclude switch statement missing default case -->
    <Match>
        <Bug pattern="SF_SWITCH_NO_DEFAULT"/>
    </Match>

    <!-- Exclude exception caught when not thrown -->
    <Match>
        <Bug pattern="REC_CATCH_EXCEPTION"/>
    </Match>

    <!-- Exclude dead code issues -->
    <Match>
        <Bug pattern="DLS_DEAD_LOCAL_STORE"/>
    </Match>

    <!-- Exclude unread field issues -->
    <Match>
        <Bug pattern="URF_UNREAD_FIELD"/>
    </Match>

    <!-- Exclude unwritten field issues -->
    <Match>
        <Bug pattern="UWF_UNWRITTEN_FIELD"/>
    </Match>

    <!-- Exclude private method never called -->
    <Match>
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD"/>
    </Match>

    <!-- Exclude duplicate branches -->
    <Match>
        <Bug pattern="DB_DUPLICATE_BRANCHES"/>
    </Match>

    <!-- Exclude duplicate switch branches -->
    <Match>
        <Bug pattern="DB_DUPLICATE_SWITCH_CLAUSES"/>
    </Match>

    <!-- Exclude bad attempt to compute absolute value -->
    <Match>
        <Bug pattern="RV_ABSOLUTE_VALUE_OF_HASHCODE"/>
    </Match>

    <!-- Exclude hardcoded password in test classes -->
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>

    <!-- Exclude hardcoded absolute pathname in all classes -->
    <Match>
        <Bug pattern="DMI_HARDCODED_ABSOLUTE_PATHNAME"/>
    </Match>

    <!-- Exclude resource management issues in Excel generator classes -->
    <Match>
        <Class name="~.*ExcelGenerator.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude resource management issues in ComprehensiveExcelGenerator -->
    <Match>
        <Class name="fin.app.ComprehensiveExcelGenerator"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude resource management issues in test classes -->
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="OBL_UNSATISFIED_OBLIGATION"/>
    </Match>

    <!-- Exclude mutable object exposure issues in UI classes -->
    <Match>
        <Class name="~.*ui\..*"/>
        <Bug pattern="EI_EXPOSE_REP,EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude mutable object exposure issues in inner classes -->
    <Match>
        <Class name="~.*\$ClassifiedTransaction.*"/>
        <Bug pattern="EI_EXPOSE_REP,EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude mutable object exposure issues in batch processor classes -->
    <Match>
        <Class name="~.*BatchProcessor.*"/>
        <Bug pattern="EI_EXPOSE_REP,EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude format string issues in all classes -->
    <Match>
        <Bug pattern="FS_FORMAT_STRING"/>
    </Match>

    <!-- Exclude unread field issues in inner classes -->
    <Match>
        <Class name="~.*\$ChangeRecord.*"/>
        <Bug pattern="URF_UNREAD_FIELD"/>
    </Match>

    <!-- Exclude hardcoded password issues in test classes -->
    <Match>
        <Class name="~.*Test.*"/>
        <Bug pattern="Dm"/>
    </Match>

    <!-- Exclude hardcoded absolute pathname issues -->
    <Match>
        <Bug pattern="DMI"/>
    </Match>

    <!-- Exclude mutable object exposure issues in ClassificationUIHandler -->
    <!-- This is intentional - the handler needs to modify the rule manager -->
    <Match>
        <Class name="fin.service.ClassificationUIHandler"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude null pointer dereference warnings in PayrollReportService methods -->
    <!-- These are false positives - the methods have explicit null checks with IllegalArgumentException -->
    <Match>
        <Class name="fin.service.PayrollReportService"/>
        <Method name="generatePayrollSummaryReport"/>
        <Bug pattern="NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE"/>
    </Match>
    <Match>
        <Class name="fin.service.PayrollReportService"/>
        <Method name="generateEmployeePayrollReport"/>
        <Bug pattern="NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE"/>
    </Match>
    <Match>
        <Class name="fin.service.PayrollReportService"/>
        <Method name="generateEMP201Report"/>
        <Bug pattern="NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE"/>
    </Match>
</FindBugsFilter>